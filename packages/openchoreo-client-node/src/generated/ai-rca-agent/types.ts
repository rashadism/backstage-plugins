/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/api/v1alpha1/rca-agent/analyze': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    get?: never;
    put?: never;
    /**
     * Trigger RCA analysis for an alert
     * @description Creates a pending RCA report and triggers background analysis for the given alert.
     *     The analysis runs asynchronously and the report status can be checked via the reports endpoints.
     *
     */
    post: operations['analyze'];
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
  '/api/v1alpha1/rca-agent/chat': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    get?: never;
    put?: never;
    /**
     * Chat about an RCA report
     * @description Conversational Q&A about an RCA report with streaming NDJSON response.
     *     The agent can query observability data (logs, traces, metrics) to answer
     *     follow-up questions about the report.
     *
     *     **Streaming Response Format (NDJSON):**
     *     Each line is a JSON object with a `type` field indicating the event type.
     *     Events are streamed in order: `message_chunk`* -> `tool_call`* -> `actions`? -> `done`
     *
     */
    post: operations['chat'];
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
  '/api/v1/rca-agent/reports': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    /** List RCA reports */
    get: operations['listRCAReports'];
    put?: never;
    post?: never;
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
  '/api/v1/rca-agent/reports/{report_id}': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    /** Get RCA report by report ID */
    get: operations['getRCAReport'];
    put?: never;
    post?: never;
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
}
export type webhooks = Record<string, never>;
export interface components {
  schemas: {
    AnalyzeRequest: {
      namespace: string;
      project: string;
      component: string;
      environment: string;
      alert: components['schemas']['AlertContext'];
      meta?: {
        [key: string]: unknown;
      } | null;
    };
    AlertContext: {
      id: string;
      value: number | string;
      timestamp: string;
      rule: components['schemas']['AlertRuleInfo'];
    };
    AlertRuleInfo: {
      name: string;
      description?: string | null;
      severity?: string | null;
      source?: components['schemas']['AlertRuleSource'];
      condition?: components['schemas']['AlertRuleCondition'];
    };
    AlertRuleSource: {
      /** @description Source type (e.g., logs, metrics) */
      type: string;
      query?: string | null;
      metric?: string | null;
    };
    AlertRuleCondition: {
      window: string;
      interval: string;
      operator: string;
      threshold: number;
    };
    RCAResponse: {
      report_id: string;
      /** @enum {string} */
      status: 'pending';
    };
    ChatRequest: {
      reportId: string;
      namespace: string;
      project: string;
      environment: string;
      messages: {
        [key: string]: string;
      }[];
    };
    ErrorResponse: {
      detail: string;
    };
    /** @description A streaming event. Events are sent as newline-delimited JSON (NDJSON).
     *     Use the `type` field to determine the event type.
     *      */
    StreamEvent:
      | components['schemas']['MessageChunkEvent']
      | components['schemas']['ToolCallEvent']
      | components['schemas']['ActionsEvent']
      | components['schemas']['DoneEvent']
      | components['schemas']['ErrorEvent'];
    MessageChunkEvent: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'message_chunk';
      content: string;
    };
    ToolCallEvent: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'tool_call';
      /** @description Name of the tool being called */
      tool: string;
      /** @description Human-readable description of the tool action for UI display */
      activeForm?: string;
      /** @description JSON-encoded arguments */
      args?: string;
    };
    ActionsEvent: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'actions';
      /** @description Structured actions for the UI to render */
      actions: {
        [key: string]: unknown;
      }[];
    };
    DoneEvent: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'done';
      /** @description The complete response message */
      message: string;
    };
    ErrorEvent: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'error';
      message: string;
    };
    RCAReportsResponse: {
      reports: components['schemas']['RCAReportSummary'][];
      totalCount: number;
    };
    RCAReportSummary: {
      alertId: string;
      reportId: string;
      /** Format: date-time */
      timestamp: string;
      summary?: string | null;
      /** @enum {string} */
      status: 'pending' | 'completed' | 'failed';
    };
    RCAReportDetailed: {
      alertId: string;
      reportId: string;
      /** Format: date-time */
      timestamp: string;
      /** @enum {string} */
      status: 'pending' | 'completed' | 'failed';
      /** @description The full RCA report content (null if status is pending or failed) */
      report?: components['schemas']['RCAReport'];
    };
    RCAReport: {
      alert_context: components['schemas']['ReportAlertContext'];
      summary: string;
      result:
        | components['schemas']['RootCauseIdentified']
        | components['schemas']['NoRootCauseIdentified'];
      investigation_path: components['schemas']['InvestigationStep'][];
    };
    ReportAlertContext: {
      alert_id: string;
      alert_name: string;
      alert_description?: string | null;
      severity?: string | null;
      triggered_at: string;
      trigger_value: number;
      source_type?: string | null;
      source_query?: string | null;
      source_metric?: string | null;
      condition: components['schemas']['ReportAlertCondition'];
      component_uid: string;
      project_uid: string;
      environment_uid: string;
    };
    ReportAlertCondition: {
      window: string;
      interval: string;
      operator: string;
      threshold: number;
    };
    RootCauseIdentified: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'root_cause_identified';
      root_causes: components['schemas']['RootCause'][];
      timeline: components['schemas']['TimelineEvent'][];
      excluded_causes?: components['schemas']['ExcludedCause'][];
      recommendations: components['schemas']['Recommendations'];
    };
    NoRootCauseIdentified: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'no_root_cause_identified';
      /** @enum {string} */
      outcome:
        | 'no_anomaly_detected'
        | 'insufficient_data'
        | 'transient'
        | 'external_dependency';
      explanation: string;
      recommendations?: components['schemas']['Recommendations'];
    };
    RootCause: {
      summary: string;
      /** @enum {string} */
      confidence: 'high' | 'medium' | 'low';
      analysis: string;
      supporting_findings: components['schemas']['Finding'][];
    };
    Finding: {
      observation: string;
      component_uid: string;
      time_range: components['schemas']['TimeRange'];
      evidence:
        | components['schemas']['LogEvidence']
        | components['schemas']['MetricEvidence']
        | components['schemas']['TraceEvidence'];
    };
    TimeRange: {
      start: string;
      end: string;
    };
    LogEvidence: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'log';
      log_lines: components['schemas']['LogLine'][];
      repetition?: string | null;
    };
    LogLine: {
      timestamp: string;
      /** @enum {string} */
      level: 'ERROR' | 'WARN' | 'INFO' | 'DEBUG';
      message: string;
    };
    MetricEvidence: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'metric';
      summary: string;
    };
    TraceEvidence: {
      /**
       * @description discriminator enum property added by openapi-typescript
       * @enum {string}
       */
      type: 'trace';
      trace_id: string;
      span_id: string;
      summary: string;
      /** @default false */
      is_error: boolean;
      error_message?: string | null;
      repetition?: string | null;
    };
    TimelineEvent: {
      timestamp: string;
      component_uid?: string | null;
      event: string;
    };
    InvestigationStep: {
      action: string;
      outcome: string;
      rationale?: string | null;
    };
    ExcludedCause: {
      description: string;
      rationale: string;
    };
    Recommendations: {
      recommended_actions?: components['schemas']['RecommendedAction'][];
      observability_recommendations?: components['schemas']['Action'][];
    };
    Action: {
      description: string;
      rationale?: string | null;
    };
    RecommendedAction: WithRequired<
      components['schemas']['Action'],
      'description'
    > & {
      /**
       * @default suggested
       * @enum {string}
       */
      status: 'suggested' | 'unchanged' | 'revised';
      /** @default [] */
      changes: components['schemas']['ResourceChange'][];
    };
    ResourceChange: {
      resource: string;
      field_path: string;
      value: string;
    };
  };
  responses: never;
  parameters: never;
  requestBodies: never;
  headers: never;
  pathItems: never;
}
export type $defs = Record<string, never>;
export interface operations {
  analyze: {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody: {
      content: {
        'application/json': components['schemas']['AnalyzeRequest'];
      };
    };
    responses: {
      /** @description Analysis triggered successfully */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['RCAResponse'];
        };
      };
      /** @description Bad request - invalid parameters */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Internal server error */
      500: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
    };
  };
  chat: {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody: {
      content: {
        'application/json': components['schemas']['ChatRequest'];
      };
    };
    responses: {
      /** @description Streaming NDJSON response with chat events */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/x-ndjson': components['schemas']['StreamEvent'];
        };
      };
      /** @description Bad request - invalid parameters */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Unauthorized - invalid or missing authentication */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Report not found */
      404: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Internal server error */
      500: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
    };
  };
  listRCAReports: {
    parameters: {
      query: {
        project: string;
        environment: string;
        namespace: string;
        /** @description RFC3339 format */
        startTime: string;
        /** @description RFC3339 format */
        endTime: string;
        limit?: number;
        /** @description Sort order by timestamp */
        sort?: 'asc' | 'desc';
        status?: 'pending' | 'completed' | 'failed';
      };
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody?: never;
    responses: {
      /** @description List of RCA reports */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['RCAReportsResponse'];
        };
      };
      /** @description Bad request - invalid parameters (e.g., startTime after endTime) */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Unauthorized - invalid or missing authentication */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Validation error - missing or invalid query parameters */
      422: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Internal server error */
      500: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
    };
  };
  getRCAReport: {
    parameters: {
      query?: never;
      header?: never;
      path: {
        report_id: string;
      };
      cookie?: never;
    };
    requestBody?: never;
    responses: {
      /** @description RCA report details */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['RCAReportDetailed'];
        };
      };
      /** @description Unauthorized - invalid or missing authentication */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Report not found */
      404: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
      /** @description Internal server error */
      500: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ErrorResponse'];
        };
      };
    };
  };
}
type WithRequired<T, K extends keyof T> = T & {
  [P in K]-?: T[P];
};
